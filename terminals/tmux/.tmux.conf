# Enable mouse support
set -g mouse on

# Vi mode in copy mode
setw -g mode-keys vi

# Vi-style copy/paste keybindings
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel
bind-key -T copy-mode-vi 'C-v' send -X rectangle-toggle
bind-key -T copy-mode-vi 'V' send -X select-line

# Vi-style navigation
bind-key -T copy-mode-vi 'g' send -X top-line

# Enable passthrough for image support (for NeoVim image.nvim plugin)
set -g allow-passthrough on

# Increase scrollback buffer
set -g history-limit 10000

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Remember windows when one is closed
set -g renumber-windows on

# Faster command sequence (reduce delay)
set -s escape-time 0

# Enable 256 colors
set -g default-terminal "tmux-256color"

# Enable focus events (important for vim)
set -g focus-events on

# Better pane splitting (more intuitive)
# `Ctrl+b |` or `Ctrl+b -`
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Shortcut to source this file
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Pane resizing (repeatable)
# E.g. `Ctrl+b Alt+Right`
bind -n M-Left resize-pane -L 5
bind -n M-Down resize-pane -D 5
bind -n M-Up resize-pane -U 5
bind -n M-Right resize-pane -R 5
 
# Larger pane resizing steps
# E.g. `Ctrl+b Shift+Right`
bind -r S-Left resize-pane -L 10
bind -r S-Down resize-pane -D 10
bind -r S-Up resize-pane -U 10
bind -r S-Right resize-pane -R 10
